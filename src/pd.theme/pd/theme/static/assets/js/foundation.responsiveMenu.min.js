'use strict';!function($){class ResponsiveMenu{constructor(element,options){this.$element=$(element);this.rules=this.$element.data('responsive-menu');this.currentMq=null;this.currentPlugin=null;this._init();this._events();Foundation.registerPlugin(this,'ResponsiveMenu')}
_init(){if(typeof this.rules==='string'){let rulesTree={};let rules=this.rules.split(' ');for(let i=0;i<rules.length;i++){let rule=rules[i].split('-');let ruleSize=rule.length>1?rule[0]:'small';let rulePlugin=rule.length>1?rule[1]:rule[0];if(MenuPlugins[rulePlugin]!==null){rulesTree[ruleSize]=MenuPlugins[rulePlugin]}}
this.rules=rulesTree}
if(!$.isEmptyObject(this.rules)){this._checkMediaQueries()}
this.$element.attr('data-mutate',(this.$element.attr('data-mutate')||Foundation.GetYoDigits(6,'responsive-menu')))}
_events(){var _this=this;$(window).on('changed.zf.mediaquery',function(){_this._checkMediaQueries()})}
_checkMediaQueries(){var matchedMq,_this=this;$.each(this.rules,function(key){if(Foundation.MediaQuery.atLeast(key)){matchedMq=key}});if(!matchedMq)return;if(this.currentPlugin instanceof this.rules[matchedMq].plugin)return;$.each(MenuPlugins,function(key,value){_this.$element.removeClass(value.cssClass)});this.$element.addClass(this.rules[matchedMq].cssClass);if(this.currentPlugin)this.currentPlugin.destroy();this.currentPlugin=new this.rules[matchedMq].plugin(this.$element,{})}
destroy(){this.currentPlugin.destroy();$(window).off('.zf.ResponsiveMenu');Foundation.unregisterPlugin(this)}}
ResponsiveMenu.defaults={};var MenuPlugins={dropdown:{cssClass:'dropdown',plugin:Foundation._plugins['dropdown-menu']||null},drilldown:{cssClass:'drilldown',plugin:Foundation._plugins.drilldown||null},accordion:{cssClass:'accordion-menu',plugin:Foundation._plugins['accordion-menu']||null}};Foundation.plugin(ResponsiveMenu,'ResponsiveMenu')}(jQuery)
$(document).foundation();
